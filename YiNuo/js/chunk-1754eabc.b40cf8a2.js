(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1754eabc"],{5973:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"payable_entry"},[a("header",{staticClass:"mui-bar mui-bar-nav"},[a("router-link",{staticClass:"mui-icon mui-icon-left-nav mui-pull-left",attrs:{to:{name:"payable_money"}}}),a("h1",{staticClass:"mui-title"},[t._v("余额")]),a("router-link",{staticClass:"mui-action-back mui-icon mui-icon mui-icon-home mui-pull-right",attrs:{to:{name:"index"}}})],1),t._m(0),a("div",{staticClass:"mui-content app"},[t._l(t.projet,function(e){return a("form",{staticClass:"mui-input-group"},[a("div",{staticClass:"mui-input-row"},[a("label",[t._v("工地名称")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.customer_name,expression:"item.customer_name"}],staticClass:"mui-input-clear",attrs:{type:"text",disabled:"disabled"},domProps:{value:e.customer_name},on:{input:function(a){a.target.composing||t.$set(e,"customer_name",a.target.value)}}})]),a("div",{staticClass:"mui-input-row"},[a("label",[t._v("债务人")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.fund_debtor,expression:"item.fund_debtor"}],staticClass:"mui-input-clear",attrs:{type:"text",disabled:"disabled"},domProps:{value:e.fund_debtor},on:{input:function(a){a.target.composing||t.$set(e,"fund_debtor",a.target.value)}}})]),a("div",{staticClass:"mui-input-row"},[a("label",[t._v("首款备注")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.fund_details_text,expression:"item.fund_details_text"}],staticClass:"mui-input-clear",attrs:{type:"text",disabled:"disabled"},domProps:{value:e.fund_details_text},on:{input:function(a){a.target.composing||t.$set(e,"fund_details_text",a.target.value)}}})]),a("div",{staticClass:"mui-input-row"},[a("label",[t._v("时间")]),a("input",{staticClass:"mui-input-clear",attrs:{type:"text",disabled:"disabled"},domProps:{value:t._f("data")(e.fund_details_date)}})])])}),t._l(t.projet,function(e){return a("form",{staticClass:"mui-input-group"},[a("div",{staticClass:"mui-input-row"},[a("label",[t._v("银行卡")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.fund_bank,expression:"fund_bank"}],attrs:{name:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.fund_bank=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"",selected:"selected"}},[t._v("请选择")]),t._l(t.income_y,function(e){return a("option",{domProps:{value:e.bank_id}},[t._v(t._s(e.bank_bank))])})],2)]),a("div",{staticClass:"mui-input-row"},[a("label",[t._v("共有")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.fund_details_money,expression:"item.fund_details_money"}],staticClass:"mui-input-clear",attrs:{type:"text",disabled:"disabled"},domProps:{value:e.fund_details_money},on:{input:function(a){a.target.composing||t.$set(e,"fund_details_money",a.target.value)}}})]),a("div",{staticClass:"mui-input-row"},[a("label",[t._v("实际转账")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.money,expression:"money"}],staticClass:"mui-input-clear",attrs:{type:"text",placeholder:"请输入实际转账"},domProps:{value:t.money},on:{input:function(e){e.target.composing||(t.money=e.target.value)}}})])])}),a("div",{staticClass:"mui-input-row mui-checkbox mui-left radio-one"},[a("label",[t._v("转为应付")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.checkBox,expression:"checkBox"}],attrs:{name:"checkbox1",type:"checkbox"},domProps:{checked:Array.isArray(t.checkBox)?t._i(t.checkBox,null)>-1:t.checkBox},on:{change:function(e){var a=t.checkBox,i=e.target,n=!!i.checked;if(Array.isArray(a)){var s=null,o=t._i(a,s);i.checked?o<0&&(t.checkBox=a.concat([s])):o>-1&&(t.checkBox=a.slice(0,o).concat(a.slice(o+1)))}else t.checkBox=n}}})]),a("div",{staticClass:"form-botton"},[a("button",{staticClass:"mui-btn mui-btn-black",attrs:{type:"button"},on:{click:t.add}},[t._v("立即支付")])])],2)])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mui-content"},[a("div",{staticClass:"customer"},[a("h2",[t._v("余额")]),a("p",[t._v("/Balance input")])])])}],s={name:"payable_entry",data(){return{projet:"",checkBox:"",money:"",funn_data:"",fund_details_id:"",fund_bank:"",income_y:""}},created(){var t=location.href,e=t.length,a=t.indexOf("="),i=decodeURI(t.substr(a+1,e-a));this.fund_details_id=i,this.axios.get("https://formattingclub.com/YiNuoLogin/fund/Select_fund_details?fund_details_id="+i).then(t=>{this.projet=t.data.data}),this.axios.get("https://formattingclub.com/YiNuoLogin/fund/select_bank").then(t=>{this.income_y=t.data})},methods:{add(){var t=this,e=/^[0-9]*$/;if(""==this.fund_bank)return mui.toast("银行卡不能为空"),!1,!1;if(""==this.money)return mui.toast("实际转账不能为空"),!1,!1;if(!e.test(this.money))return mui.toast("实际转账必须纯数字"),!1,!1;this.money=1+~this.money;var a="?fund_details_id="+this.fund_details_id+"&money="+this.money+"&bank_id="+this.fund_bank;if(!0===this.checkBox){var i=this.projet[0].fund_details_money,n=i+parseInt(this.money),s=this.projet[0].customer_name,o=this.projet[0].fund_debtor,u=this.projet[0].fund_details_text,l=this.projet[0].fund_details_date,r=l.split(" ");this.axios.get("https://formattingclub.com/YiNuoLogin/fund/update_fund_details"+a).then(e=>{t.$router.push({path:"payable_pay",query:{id:t.fund_details_id,money:n,cumoterName:s,person:o,text:u,datas:r}})})}else this.axios.get("https://formattingclub.com/YiNuoLogin/fund/update_fund_details"+a).then(e=>{"支付成功"===e.data.msg?mui.alert("支付成功",function(){t.$router.push({name:"payable_money"})}):mui.alert("支付失败")})}}},o=s,u=(a("f942"),a("2877")),l=Object(u["a"])(o,i,n,!1,null,"7ff8ddb8",null);e["default"]=l.exports},"60d4":function(t,e,a){},f942:function(t,e,a){"use strict";var i=a("60d4"),n=a.n(i);n.a}}]);