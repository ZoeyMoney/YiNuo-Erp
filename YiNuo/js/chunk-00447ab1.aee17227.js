(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-00447ab1"],{"19b1":function(t,s){t.exports="data:image/png;base64,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"},"5c41":function(t,s,i){"use strict";i.r(s);var e=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"admin_task"},[i("header",{staticClass:"mui-bar mui-bar-nav"},[i("router-link",{staticClass:"mui-icon mui-icon-left-nav mui-pull-left",attrs:{to:{name:"administrative"}}}),i("h1",{staticClass:"mui-title"},[t._v("任务统计")]),i("router-link",{staticClass:"mui-icon mui-icon mui-icon-home mui-pull-right",attrs:{to:{name:"index"}}})],1),t.imgUrl_loading?i("login-loading"):t._e(),i("div",{staticClass:"mui-content one-img"},[t._m(0),i("div",{staticClass:"mui-img"},[i("div",{staticClass:"money_img"},[i("router-link",{attrs:{to:{name:"task_people"}}},[i("img",{attrs:{src:t.money_plus,alt:"增加"}})])],1)])]),i("div",{staticClass:"mui-content app"},[i("form",{staticClass:"mui-input-group"},[i("div",{staticClass:"mui-input-row input-top"},[i("label",[t._v("输入关键字")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.customer_name,expression:"customer_name"}],staticClass:"mui-input-clear",attrs:{type:"text",placeholder:"请输入关键字"},domProps:{value:t.customer_name},on:{input:function(s){s.target.composing||(t.customer_name=s.target.value)}}})])]),i("form",{staticClass:"mui-input-group black_mui"},[i("div",{staticClass:"mui-input-row"},[i("label",[t._v("下达人")]),i("select",{directives:[{name:"model",rawName:"v-model",value:t.Release,expression:"Release"}],attrs:{name:""},on:{change:[function(s){var i=Array.prototype.filter.call(s.target.options,function(t){return t.selected}).map(function(t){var s="_value"in t?t._value:t.value;return s});t.Release=s.target.multiple?i:i[0]},function(s){return t.releaseClick(t.Release)}]}},[i("option",{attrs:{value:""}},[t._v("请选择")]),t._l(t.list_inform,function(s){return i("option",{domProps:{value:s.mission_inform_person_id}},[t._v(t._s(s.mission_inform_person))])})],2)]),i("div",{staticClass:"mui-input-row"},[i("label",[t._v("任务人")]),i("select",{directives:[{name:"model",rawName:"v-model",value:t.task,expression:"task"}],attrs:{name:""},on:{change:[function(s){var i=Array.prototype.filter.call(s.target.options,function(t){return t.selected}).map(function(t){var s="_value"in t?t._value:t.value;return s});t.task=s.target.multiple?i:i[0]},function(s){return t.teskClick(t.task)}]}},[i("option",{attrs:{value:""}},[t._v("请选择")]),t._l(t.list_make,function(s){return i("option",{domProps:{value:s.mission_make_person_id}},[t._v(t._s(s.mission_make_person))])})],2)]),i("div",{staticClass:"mui-input-row dian"},t._l(t.list_data,function(s){return i("div",{staticClass:"mui-input-row mui-radio dian-a"},[i("label",[t._v(t._s(s.text))]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.radio,expression:"radio"}],attrs:{name:"radio1",type:"radio",checked:"a"},domProps:{value:s.id,checked:t._q(t.radio,s.id)},on:{change:[function(i){t.radio=s.id},function(s){return t.radioClick(t.radio)}]}})])}),0)]),i("table",[i("tr",[i("th",[i("span",{style:t.peopleTenLeft},[t._v("任务人")])]),i("th",[i("span",{style:t.peopleTenLeft},[t._v("下达人")])]),i("th",[i("span",{style:t.leftPx},[t._v("时间")])]),i("th",[i("span",{style:t.leftPx},[t._v("状态")])])]),t._l(t.listTable,function(s){return i("tr",{on:{click:function(i){return t.tableClick(s.mission_id)}}},[i("td",[i("span",{style:t.tenPx},[t._v(t._s(s.mission_inform_person))])]),i("td",[i("span",{style:t.tenPx},[t._v(t._s(s.mission_make_person))])]),i("td",[i("span",[t._v(t._s(t.dates(s.mission_startDate)))])]),i("td",[i("div",{directives:[{name:"show",rawName:"v-show",value:"0"==s.mission_state,expression:"item.mission_state == '0'"}]},[t._v("进行中")]),i("div",{directives:[{name:"show",rawName:"v-show",value:"1"==s.mission_state,expression:"item.mission_state == '1'"}]},[t._v("已完成")]),i("div",{directives:[{name:"show",rawName:"v-show",value:"2"==s.mission_state,expression:"item.mission_state == '2'"}]},[t._v("审批中")])])])})],2)]),t._l(t.msg_list,function(s){return i("div",{directives:[{name:"show",rawName:"v-show",value:t.msg_box,expression:"msg_box"}],staticClass:"mui-content msgbox"},[i("div",{staticClass:"close"},[i("div",{staticClass:"close-i"},[i("i",{staticClass:"el-icon-close",on:{click:t.closeClick}})])]),i("form",{directives:[{name:"show",rawName:"v-show",value:t.internal_content,expression:"internal_content"}],staticClass:"mui-input-group"},[i("div",{staticClass:"mui-input-row"},[i("label",[t._v("下达人")]),i("input",{staticClass:"mui-input-clear",attrs:{type:"text",placeholder:"无",disabled:"disabled"},domProps:{value:s.mission_inform_person}})]),i("div",{staticClass:"mui-input-row"},[i("label",[t._v("任务人")]),i("input",{staticClass:"mui-input-clear",attrs:{type:"text",placeholder:"无",disabled:"disabled"},domProps:{value:s.mission_make_person}})]),i("div",{staticClass:"mui-input-row"},[i("label",[t._v("完成时间")]),i("div",[t._v(t._s(t.dates(s.mission_startDate)))])]),i("div",{staticClass:"mui-input-row"},[i("label",[t._v("状态")]),i("div",{directives:[{name:"show",rawName:"v-show",value:"0"==s.mission_state,expression:"item.mission_state == '0'"}]},[t._v("进行中")]),i("div",{directives:[{name:"show",rawName:"v-show",value:"1"==s.mission_state,expression:"item.mission_state == '1'"}]},[t._v("已完成")]),i("div",{directives:[{name:"show",rawName:"v-show",value:"2"==s.mission_state,expression:"item.mission_state == '2'"}]},[t._v("审批中")])]),i("div",{staticClass:"mui-input-row"},[i("label",[t._v("任务信息")]),i("input",{staticClass:"mui-input-clear",attrs:{type:"text",placeholder:"无",disabled:"disabled"},domProps:{value:s.mission_text}})])]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.btn_no,expression:"btn_no"}],staticClass:"mui-input-row form-btn"},[i("button",{directives:[{name:"show",rawName:"v-show",value:"2"==s.mission_state||"0"==s.mission_state,expression:"item.mission_state =='2' || item.mission_state=='0'"}],staticClass:"mui-btn mui-btn-blue",attrs:{type:"button"},on:{click:function(i){return t.del(s.mission_id,s.mission_inform_person)}}},[t._v("删除")]),"0"==s.mission_state?i("button",{staticClass:"mui-btn mui-btn-blue",attrs:{type:"button"},on:{click:t.add}},[t._v("提交审批")]):t._e()]),t.text_ad?i("form",{staticClass:"mui-input-group"},[i("div",{staticClass:"mui-input-row"},[i("label",[t._v("备注")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.text_admin,expression:"text_admin"}],staticClass:"mui-input-clear",attrs:{type:"text",placeholder:"请输入备注"},domProps:{value:t.text_admin},on:{input:function(s){s.target.composing||(t.text_admin=s.target.value)}}})])]):t._e(),i("div",{directives:[{name:"show",rawName:"v-show",value:t.btn_yes,expression:"btn_yes"}],staticClass:"mui-input-row form-btn"},[i("button",{staticClass:"mui-btn mui-btn-blue",attrs:{type:"button"},on:{click:t.cancel}},[t._v("取消")]),i("button",{staticClass:"mui-btn mui-btn-blue",attrs:{type:"button"},on:{click:t.yes}},[t._v("确定")])])])})],2)},a=[function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"customer"},[i("h2",[t._v("任务统计")]),i("p",[t._v("Statistics on incentives")])])}],n={name:"admin_task",data(){return{customer_name:"",admin:"",user:"",radio:"0",imgUrl_loading:!1,money_plus:i("19b1"),Release:"",task:"",list_data:[{text:"进行中",id:"0"},{text:"审批中",id:"2"},{text:"已完成",id:"1"}],listTable:[],msg_box:!1,msg_list:"",msg_add:!0,list_inform:"",list_make:"",internal_content:!0,btn_no:!0,text_ad:!1,text_admin:"",btn_yes:!1,tenPx:{display:"block",paddingLeft:"10px"},leftPx:{display:"block",textAlign:"left"},peopleTenLeft:{display:"block",textAlign:"left",paddingLeft:"10px"}}},created(){var t=JSON.parse(localStorage.data).role;this.admin=t[0].role_name,this.user=JSON.parse(localStorage.data).userNumber,this.axios.get("/Administration/Select_mission?mission_stale="+this.radio).then(t=>{this.listTable=t.data.list_mission,this.list_inform=t.data.list_inform_person,this.list_make=t.data.list_make_Person})},computed:{},methods:{model_id(t){this.listTable=t.data.list_mission,this.list_inform=t.data.list_inform_person,this.list_make=t.data.list_make_Person},releaseClick(t){var s="?";""!=this.Release&&(s+="mission_inform_person="+t),""!=this.task&&(s+="&mission_make_person="+this.task),""!=this.radio&&(s+="&mission_stale="+this.radio),this.axios.get("/Administration/Select_mission"+s).then(t=>{this.model_id(t)})},teskClick(t){var s="?";""!=this.task&&(s+="mission_make_person="+t),""!=this.Release&&(s+="&mission_inform_person="+this.Release),""!=this.radio&&(s+="&mission_stale="+this.radio),this.axios.get("/Administration/Select_mission"+s).then(t=>{this.model_id(t)})},radioClick(t){var s="?mission_stale="+t;""!=this.Release&&(s+="&mission_inform_person="+this.Release),""!=this.task&&(s+="&mission_make_person="+this.task),this.axios.get("/Administration/Select_mission"+s).then(t=>{this.model_id(t)})},dates(t){var s=new Date(t),i=s.getFullYear(),e=s.getMonth()+1,a=s.getDate();s.getHours();return i+"-"+e+"-"+a},tableClick(t){this.msg_box=!0;var s=[];for(var i in this.listTable)t==this.listTable[i].mission_id&&s.push(this.listTable[i]);this.msg_list=s;var e=function(t){t.preventDefault()};document.body.style.overflow="hidden",document.removeEventListener("touchmove",e,!0)},closeClick(){this.msg_box=!1;var t=function(t){t.preventDefault()};document.body.style.overflow="",document.removeEventListener("touchmove",t,!1)},del(t,s){var i=this;this.user==s||"总权限"==this.admin?(this.imgUrl_loading=!0,this.axios.post("/Administration/Delete_mission?mission_id="+t).then(t=>{200===t.status&&(this.imgUrl_loading=!1,mui.alert(t.data.data,function(){i.$router.go(0)}))})):mui.alert("您不是下达人所以无法删除")},add(){this.internal_content=!1,this.btn_no=!1,this.btn_yes=!0,this.text_ad=!0},cancel(){this.btn_yes=!1,this.internal_content=!0,this.btn_no=!0,this.text_ad=!1},yes(){var t=this,s="?";if(""==this.text_admin)return mui.toast("备注不能为空"),!1,!1;for(var i in this.msg_list)"0"==this.msg_list[i].mission_state?(s+="approve_stale=0&approve_make_person="+this.msg_list[i].mission_make_person_id+"&approve_inform_person="+this.msg_list[i].mission_inform_person_id+"&mission_id="+this.msg_list[i].mission_id+"&approve_text="+this.text_admin,this.imgUrl_loading=!0,this.axios.post("/Administration/Add_Approve"+s).then(s=>{200===s.status&&(this.imgUrl_loading=!1,mui.alert(s.data.data,function(){t.$router.go(0)}))})):mui.alert("已在进行中")}}},o=n,l=(i("fa1e"),i("2877")),r=Object(l["a"])(o,e,a,!1,null,"3abacfd1",null);s["default"]=r.exports},fa1e:function(t,s,i){"use strict";var e=i("fbea"),a=i.n(e);a.a},fbea:function(t,s,i){}}]);