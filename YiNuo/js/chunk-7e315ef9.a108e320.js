(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7e315ef9"],{"8d33":function(t,e,s){},"8d76":function(t,e,s){"use strict";var a=s("8d33"),i=s.n(a);i.a},a156:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"customer_statistics"},[s("header",{staticClass:"mui-bar mui-bar-nav"},[s("router-link",{staticClass:"mui-icon mui-icon-left-nav mui-pull-left",attrs:{to:{name:"customer_management"}}}),s("h1",{staticClass:"mui-title"},[t._v("客户统计")]),s("router-link",{staticClass:"mui-icon mui-icon mui-icon-home mui-pull-right",attrs:{to:{name:"index"}}})],1),s("login-loading",{directives:[{name:"show",rawName:"v-show",value:t.imgUrl_loading,expression:"imgUrl_loading"}]}),t._m(0),s("div",{staticClass:"mui-content"},[s("div",{staticClass:"mui-input-row input-top"},[s("label",[t._v("工地搜索")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"mui-input-clear",attrs:{type:"text",placeholder:"请输入关键字"},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}})]),s("div",{staticClass:"mui-content label-flex"},[s("div",{staticClass:"mui-input-row"},[s("label",[t._v("设计师")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.customer_stylist,expression:"customer_stylist"}],class:{classGary:""==t.customer_stylist,classBlack:""!=t.customer_stylist},on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.customer_stylist=e.target.multiple?s:s[0]},t.styleClick]}},[s("option",{attrs:{value:"",selected:"selected"}},[t._v("请选择")]),t._l(t.listName,function(e,a){return s("option",{domProps:{value:e.fund_person}},[t._v(t._s(e.fund_person))])})],2)]),s("div",{staticClass:"mui-input-row"},[s("label",[t._v("设计阶段")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.stage_name,expression:"stage_name"}],class:{classGary:""==t.stage_name,classBlack:""!=t.stage_name},on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.stage_name=e.target.multiple?s:s[0]},t.stage_nameClick]}},[s("option",{attrs:{value:"",selected:"selected"}},[t._v("请选择")]),t._l(t.stageName,function(e){return s("option",{domProps:{value:e.text}},[t._v(t._s(e.text))])})],2)])]),s("table",{attrs:{border:"0"}},[s("tr",[s("th",[s("span",{style:t.lefta},[t._v("工地名称")])]),t._m(1),t._m(2),t._m(3),t._m(4),t._m(5)]),t._l(t.lists,function(e){return s("tr",{on:{click:function(s){return t.mername(e.customer_id)}}},[s("td",[s("span",{style:t.lefta},[t._v(t._s(e.customer_name))])]),s("td",[s("span",[t._v(t._s(e.fund_person))])]),s("td",[s("span",{directives:[{name:"show",rawName:"v-show",value:""!=e.follow_stage,expression:"item.follow_stage!=''"}]},[t._v(t._s(e.follow_stage))]),s("span",{directives:[{name:"show",rawName:"v-show",value:""==e.follow_stage||void 0==e.follow_stage,expression:"item.follow_stage =='' || item.follow_stage==undefined"}]},[t._v("无")])]),s("td",[s("span",[t._v(t._s(e.customer_budget))])]),s("td",[s("span",{directives:[{name:"show",rawName:"v-show",value:""!=e.date,expression:"item.date!=''"}]},[t._v(t._s(e.date))]),s("span",{directives:[{name:"show",rawName:"v-show",value:void 0==e.date,expression:"item.date ==undefined"}]},[t._v("无")])]),s("td",[s("span",{directives:[{name:"show",rawName:"v-show",value:""!=e.customer_grade,expression:"item.customer_grade !=''"}]},[t._v(t._s(e.customer_grade))]),s("span",{directives:[{name:"show",rawName:"v-show",value:""==e.customer_grade||void 0==e.customer_grade,expression:"item.customer_grade ==''||item.customer_grade==undefined"}]},[t._v("无")])])])})],2)]),s("div",{staticClass:"footer"},[t._m(6),s("div",{staticClass:"footer-botton"},[s("p",[t._v("总人数:"),s("em",{style:t.listRad},[t._v(t._s(t.lengths))])]),s("em",[t._v("￥:"+t._s(t.add)+"W")])])])],1)},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mui-content"},[s("div",{staticClass:"customer"},[s("h2",[t._v("客户统计")]),s("p",[t._v("/Customer input")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("th",[s("span",[t._v("设计师")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("th",[s("span",[t._v("阶段")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("th",[s("span",[t._v("预算")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("th",[s("span",[t._v("天")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("th",[s("span",[t._v("级")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"footer-botton"},[s("p",[t._v("TOTAL")])])}],l={name:"customer_statistics",data(){return{imgUrl_loading:!1,search:"",customer_stylist:"",stage_name:"",dates:"",listName:"",osd:!0,optioos:"",list:[],lengths:"",add:"",listtime:"",all_list:"",stageName:[{text:"平面图"},{text:"施工图"},{text:"未量尺"}],ooliust:[],listRad:{color:"red",fontWeight:"bold"},lefta:{paddingLeft:"10px"}}},computed:{lists(){var t=this,e=[],s=0;if(t.list.map(function(s){-1==s.customer_name.search(t.search)&&-1==s.fund_person.search(t.search)||e.push(s)}),""!=e){for(var a in e)s+=e[a].customer_budget;this.add=Math.floor(100*s)/100,this.lengths=e.length}return e}},methods:{styleClick(){var t=this,e=[];t.lists.map(function(s){-1!=s.fund_person.search(t.customer_stylist)&&e.push(s)}),this.ooliust=e,""==this.customer_stylist?this.list=this.all_list:this.list=e},stage_nameClick(){var t=[];if(""!=this.customer_stylist)for(var e in this.ooliust)this.stage_name==this.ooliust[e].follow_stage&&t.push(this.ooliust[e]);else for(var e in this.all_list)this.stage_name==this.all_list[e].follow_stage&&t.push(this.all_list[e]);""==this.stage_name?this.list=this.ooliust:this.list=t},mername(t){var e={};for(var s in this.list)t==this.list[s].customer_id&&(e=this.list[s]);localStorage.customer_statistics=JSON.stringify(e),this.$router.push({name:"customer_details",query:{lists:e}})}},created(){this.imgUrl_loading=!0,this.axios.get("/Customer/SelectStageCustomer").then(t=>{if(200===t.status){this.imgUrl_loading=!1,this.list=t.data,this.all_list=t.data;var e=[];for(var s in this.list)e.push(this.list[s].customer_id)}}),this.axios.get("/select_follow_person?fund_person_state=3").then(t=>{this.listName=t.data.data}),setInterval(()=>{var t=new Date;this.listtime=t},1e3)}},r=l,n=(s("8d76"),s("2877")),o=Object(n["a"])(r,a,i,!1,null,"76cdfc5a",null);e["default"]=o.exports}}]);