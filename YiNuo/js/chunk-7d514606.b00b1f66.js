(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7d514606"],{"19b1":function(t,s){t.exports="data:image/png;base64,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"},"4a12":function(t,s,e){"use strict";var i=e("a22e"),a=e.n(i);a.a},"5c41":function(t,s,e){"use strict";e.r(s);var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"admin_task"},[e("header",{staticClass:"mui-bar mui-bar-nav"},[e("router-link",{staticClass:"mui-icon mui-icon-left-nav mui-pull-left",attrs:{to:{name:"administrative"}}}),e("h1",{staticClass:"mui-title"},[t._v("任务统计")]),e("router-link",{staticClass:"mui-icon mui-icon mui-icon-home mui-pull-right",attrs:{to:{name:"index"}}})],1),t.imgUrl_loading?e("login-loading"):t._e(),e("div",{staticClass:"mui-content one-img"},[t._m(0),e("div",{staticClass:"mui-img"},[e("div",{staticClass:"money_img"},[e("router-link",{attrs:{to:{name:"task_people"}}},[e("img",{attrs:{src:t.money_plus,alt:"增加"}})])],1)])]),e("div",{staticClass:"mui-content app"},[e("form",{staticClass:"mui-input-group"},[e("div",{staticClass:"mui-input-row input-top"},[e("label",[t._v("输入关键字")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.customer_name,expression:"customer_name"}],staticClass:"mui-input-clear",attrs:{type:"text",placeholder:"请输入关键字"},domProps:{value:t.customer_name},on:{input:function(s){s.target.composing||(t.customer_name=s.target.value)}}})])]),e("form",{staticClass:"mui-input-group black_mui"},[e("div",{staticClass:"mui-input-row"},[e("label",[t._v("下达人")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.Release,expression:"Release"}],attrs:{name:""},on:{change:[function(s){var e=Array.prototype.filter.call(s.target.options,function(t){return t.selected}).map(function(t){var s="_value"in t?t._value:t.value;return s});t.Release=s.target.multiple?e:e[0]},function(s){return t.releaseClick(t.Release)}]}},[e("option",{attrs:{value:""}},[t._v("请选择")]),t._l(t.list_inform,function(s){return e("option",{domProps:{value:s.approve_inform_person_id}},[t._v(t._s(s.approve_inform_person))])})],2)]),e("div",{staticClass:"mui-input-row"},[e("label",[t._v("任务人")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.task,expression:"task"}],attrs:{name:""},on:{change:[function(s){var e=Array.prototype.filter.call(s.target.options,function(t){return t.selected}).map(function(t){var s="_value"in t?t._value:t.value;return s});t.task=s.target.multiple?e:e[0]},function(s){return t.teskClick(t.task)}]}},[e("option",{attrs:{value:""}},[t._v("请选择")]),t._l(t.list_make,function(s){return e("option",{domProps:{value:s.approve_make_person_id}},[t._v(t._s(s.approve_make_person))])})],2)]),t._m(1),e("div",{staticClass:"mui-input-row"},[e("label",[t._v("状态")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.radio,expression:"radio"}],attrs:{name:""},on:{change:function(s){var e=Array.prototype.filter.call(s.target.options,function(t){return t.selected}).map(function(t){var s="_value"in t?t._value:t.value;return s});t.radio=s.target.multiple?e:e[0]}}},[e("option",{attrs:{value:""}},[t._v("请选择")]),t._l(t.list_data,function(s){return e("option",{domProps:{value:s.id}},[t._v(t._s(s.text))])})],2)])]),e("table",[e("tr",[e("th",[e("span",{style:t.peopleTenLeft},[t._v("任务人")])]),e("th",[e("span",{style:t.peopleTenLeft},[t._v("下达人")])]),e("th",[e("span",{style:t.leftPx},[t._v("时间")])]),e("th",[e("span",{style:t.leftPx},[t._v("状态")])])]),t._l(t.listTable,function(s){return e("tr",{on:{click:function(e){return t.tableClick(s.mission_id)}}},[e("td",[e("span",{style:t.tenPx},[t._v(t._s(s.mission_inform_person))])]),e("td",[e("span",{style:t.tenPx},[t._v(t._s(s.mission_make_person))])]),e("td",[e("span",[t._v(t._s(t.dates(s.mission_startDate)))])]),e("td",[e("div",{directives:[{name:"show",rawName:"v-show",value:"0"==s.mission_state,expression:"item.mission_state == '0'"}]},[t._v("进行中")]),e("div",{directives:[{name:"show",rawName:"v-show",value:"1"==s.mission_state,expression:"item.mission_state == '1'"}]},[t._v("已完成")]),e("div",{directives:[{name:"show",rawName:"v-show",value:"2"==s.mission_state,expression:"item.mission_state == '2'"}]},[t._v("审批中")])])])})],2)]),t._l(t.msg_list,function(s){return e("div",{directives:[{name:"show",rawName:"v-show",value:t.msg_box,expression:"msg_box"}],staticClass:"mui-content msgbox"},[e("div",{staticClass:"close"},[e("div",{staticClass:"close-i"},[e("i",{staticClass:"el-icon-close",on:{click:t.closeClick}})])]),e("form",{directives:[{name:"show",rawName:"v-show",value:t.internal_content,expression:"internal_content"}],staticClass:"mui-input-group"},[e("div",{staticClass:"mui-input-row"},[e("label",[t._v("下达人")]),e("input",{staticClass:"mui-input-clear",attrs:{type:"text",placeholder:"无",disabled:"disabled"},domProps:{value:s.mission_inform_person}})]),e("div",{staticClass:"mui-input-row"},[e("label",[t._v("任务人")]),e("input",{staticClass:"mui-input-clear",attrs:{type:"text",placeholder:"无",disabled:"disabled"},domProps:{value:s.mission_make_person}})]),e("div",{staticClass:"mui-input-row"},[e("label",[t._v("完成时间")]),e("div",[t._v(t._s(t.dates(s.mission_startDate)))])]),e("div",{staticClass:"mui-input-row"},[e("label",[t._v("状态")]),e("div",{directives:[{name:"show",rawName:"v-show",value:"0"==s.mission_state,expression:"item.mission_state == '0'"}]},[t._v("进行中")]),e("div",{directives:[{name:"show",rawName:"v-show",value:"1"==s.mission_state,expression:"item.mission_state == '1'"}]},[t._v("已完成")]),e("div",{directives:[{name:"show",rawName:"v-show",value:"2"==s.mission_state,expression:"item.mission_state == '2'"}]},[t._v("审批中")])]),e("div",{staticClass:"mui-input-row"},[e("label",[t._v("任务信息")]),e("input",{staticClass:"mui-input-clear",attrs:{type:"text",placeholder:"无",disabled:"disabled"},domProps:{value:s.mission_text}})])]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.btn_no,expression:"btn_no"}],staticClass:"mui-input-row form-btn"},[e("button",{staticClass:"mui-btn mui-btn-blue",attrs:{type:"button"},on:{click:function(e){return t.del(s.mission_id,s.mission_inform_person)}}},[t._v("删除")]),"0"==s.mission_state?e("button",{staticClass:"mui-btn mui-btn-blue",attrs:{type:"button"},on:{click:t.add}},[t._v("提交审批")]):t._e()]),t.text_ad?e("form",{staticClass:"mui-input-group"},[e("div",{staticClass:"mui-input-row"},[e("label",[t._v("备注")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.text_admin,expression:"text_admin"}],staticClass:"mui-input-clear",attrs:{type:"text",placeholder:"请输入备注"},domProps:{value:t.text_admin},on:{input:function(s){s.target.composing||(t.text_admin=s.target.value)}}})])]):t._e(),e("div",{directives:[{name:"show",rawName:"v-show",value:t.btn_yes,expression:"btn_yes"}],staticClass:"mui-input-row form-btn"},[e("button",{staticClass:"mui-btn mui-btn-blue",attrs:{type:"button"},on:{click:t.cancel}},[t._v("取消")]),e("button",{staticClass:"mui-btn mui-btn-blue",attrs:{type:"button"},on:{click:t.yes}},[t._v("确定")])])])})],2)},a=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"customer"},[e("h2",[t._v("任务统计")]),e("p",[t._v("Statistics on incentives")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"mui-input-row goOver"},[e("label",[t._v("起始时间")]),e("input",{staticClass:"mui-input-clear",attrs:{type:"date"}}),e("span",{staticClass:"go-span"}),e("input",{staticClass:"mui-input-clear",attrs:{type:"date"}})])}],n={name:"admin_task",data(){return{customer_name:"",admin:"",user:"",radio:"",imgUrl_loading:!1,money_plus:e("19b1"),list_tesl:[{text:"张三"},{text:"李四"},{text:"王五"},{text:"奥利弗就会物理"}],Release:"",task:"",list_data:[{text:"进行中",id:"0"},{text:"审批中",id:"2"},{text:"已完成",id:"1"}],listTable:[],msg_box:!1,msg_list:"",msg_add:!0,list_inform:"",list_make:"",internal_content:!0,btn_no:!0,text_ad:!1,text_admin:"",btn_yes:!1,tenPx:{display:"block",paddingLeft:"10px"},leftPx:{display:"block",textAlign:"left"},peopleTenLeft:{display:"block",textAlign:"left",paddingLeft:"10px"}}},created(){var t=JSON.parse(localStorage.data).role;this.admin=t[0].role_name,this.user=JSON.parse(localStorage.data).userNumber,this.axios.get("/Administration/Select_mission").then(t=>{this.listTable=t.data.data})},computed:{},methods:{model_id(t){},releaseClick(t){this.axios.get("/Administration/Select_approve?approve_inform_person="+t).then(t=>{this.list=t.data.list_administration,this.list_inform=t.data.list_inform_person,this.list_make=t.data.list_make_person})},teskClick(t){this.axios.get("/Administration/Select_approve?approve_make_person="+t).then(t=>{this.list=t.data.list_administration,this.list_inform=t.data.list_inform_person,this.list_make=t.data.list_make_person})},dates(t){var s=new Date(t),e=s.getFullYear(),i=s.getMonth()+1,a=s.getDate();s.getHours();return e+"-"+i+"-"+a},tableClick(t){this.msg_box=!0;var s=[];for(var e in this.listTable)t==this.listTable[e].mission_id&&s.push(this.listTable[e]);this.msg_list=s;var i=function(t){t.preventDefault()};document.body.style.overflow="hidden",document.removeEventListener("touchmove",i,!0)},closeClick(){this.msg_box=!1;var t=function(t){t.preventDefault()};document.body.style.overflow="",document.removeEventListener("touchmove",t,!1)},del(t,s){var e=this;console.log(s),this.user==s?(this.imgUrl_loading=!0,this.axios.post("/Administration/Delete_mission?mission_id="+t).then(t=>{200===t.status&&(this.imgUrl_loading=!1,mui.alert(t.data.data,function(){e.$router.go(0)}))})):mui.alert("您不是下达人所以无法删除")},add(){this.internal_content=!1,this.btn_no=!1,this.btn_yes=!0,this.text_ad=!0},cancel(){this.btn_yes=!1,this.internal_content=!0,this.btn_no=!0,this.text_ad=!1},yes(){var t=this,s="?";if(""==this.text_admin)return mui.toast("备注不能为空"),!1,!1;for(var e in this.msg_list)"0"==this.msg_list[e].mission_state?(s+="approve_stale=0&approve_make_person="+this.msg_list[e].mission_make_person_id+"&approve_inform_person="+this.msg_list[e].mission_inform_person_id+"&mission_id="+this.msg_list[e].mission_id+"&approve_text="+this.text_admin,this.imgUrl_loading=!0,this.axios.post("/Administration/Add_Approve"+s).then(s=>{200===s.status&&(this.imgUrl_loading=!1,mui.alert(s.data.data,function(){t.$router.go(0)}))})):mui.alert("已在进行中")}}},o=n,l=(e("4a12"),e("2877")),r=Object(l["a"])(o,i,a,!1,null,"2c1fb930",null);s["default"]=r.exports},a22e:function(t,s,e){}}]);