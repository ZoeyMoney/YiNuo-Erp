(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-18bd27dc"],{2761:function(t,e,i){"use strict";var a=i("9642"),s=i.n(a);s.a},9642:function(t,e,i){},"9b65":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"userNameUpdate"},[i("header",{staticClass:"mui-bar mui-bar-nav"},[i("router-link",{staticClass:"mui-icon mui-icon-left-nav mui-pull-left",attrs:{to:{name:"Setting"}}}),i("h1",{staticClass:"mui-title"},[t._v("个人修改")]),i("router-link",{staticClass:" mui-icon mui-icon mui-icon-home mui-pull-right",attrs:{to:{name:"index"}}})],1),i("login-loading",{directives:[{name:"show",rawName:"v-show",value:t.imgUrl_loading,expression:"imgUrl_loading"}]}),t._m(0),i("div",{staticClass:"mui-content app"},[i("form",{staticClass:"mui-input-group"},[i("div",{staticClass:"mui-input-row"},[i("label",[t._v("姓名")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"mui-input-clear",attrs:{type:"text",placeholder:"请输入姓名"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),i("div",{staticClass:"mui-input-row"},[i("label",[t._v("电话号")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.phone_number,expression:"phone_number"}],staticClass:"mui-input-clear",attrs:{type:"text",placeholder:"请输入电话号"},domProps:{value:t.phone_number},on:{input:function(e){e.target.composing||(t.phone_number=e.target.value)}}})]),i("div",{staticClass:"mui-input-row"},[i("label",[t._v("部门")]),i("select",{directives:[{name:"model",rawName:"v-model",value:t.department,expression:"department"}],class:{gred:""==t.department,black:""!=t.department},attrs:{name:""},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.department=e.target.multiple?i:i[0]}}},[i("option",{attrs:{value:""}},[t._v("请选择")]),t._l(t.list_department,function(e){return i("option",{attrs:{value:""},domProps:{value:e.text}},[t._v(t._s(e.text))])})],2)]),i("div",{staticClass:"mui-input-row"},[i("label",[t._v("职务")]),i("select",{directives:[{name:"model",rawName:"v-model",value:t.Position,expression:"Position"}],class:{gred:""==t.Position,black:""!=t.Position},attrs:{name:""},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.Position=e.target.multiple?i:i[0]}}},[i("option",{attrs:{value:""}},[t._v("请选择")]),t._l(t.list_Position,function(e){return i("option",{domProps:{value:e.text}},[t._v(t._s(e.text))])})],2)]),i("div",{staticClass:"mui-input-row"},[i("label",[t._v("身份证号")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.id_card,expression:"id_card"}],staticClass:"mui-input-clear",attrs:{type:"text",placeholder:"请输入身份证号"},domProps:{value:t.id_card},on:{input:function(e){e.target.composing||(t.id_card=e.target.value)}}})]),i("div",{staticClass:"mui-input-row"},[i("label",[t._v("毕业院校")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.graduation,expression:"graduation"}],staticClass:"mui-input-clear",attrs:{type:"text",placeholder:"请输入毕业院校"},domProps:{value:t.graduation},on:{input:function(e){e.target.composing||(t.graduation=e.target.value)}}})]),i("div",{staticClass:"mui-input-row"},[i("label",[t._v("学历")]),i("select",{directives:[{name:"model",rawName:"v-model",value:t.Education,expression:"Education"}],class:{gred:""==t.Education,black:""!=t.Education},attrs:{name:""},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.Education=e.target.multiple?i:i[0]}}},[i("option",{attrs:{value:""}},[t._v("请选择")]),t._l(t.list_Education,function(e){return i("option",{domProps:{value:e.text}},[t._v(t._s(e.text))])})],2)]),i("div",{staticClass:"mui-input-row"},[i("label",[t._v("入职时间")]),i("el-date-picker",{attrs:{type:"date",placeholder:"请输入入职时间"},model:{value:t.Entry,callback:function(e){t.Entry=e},expression:"Entry"}})],1)]),i("button-save",{nativeOn:{click:function(e){return t.add(e)}}})],1)],1)},s=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"one-noble"},[i("h2",[t._v("个人中心")]),i("p",[t._v("userNameUpdate")])])}],n={name:"userNameUpdate",data(){return{imgUrl_loading:!1,name:"",phone_number:"",department:"",list_department:[{text:"设计部门"},{text:"远控部门"},{text:"袋鼠帮帮部门"},{text:"工程部门"}],Position:"",list_Position:[{text:"总经理"},{text:"副总经理"},{text:"销售部长"},{text:"技术部长"},{text:"物控部长"},{text:"财务部长"},{text:"品管部长"},{text:"人事部长"},{text:"项目监理"}],id_card:"",graduation:"",Education:"",list_Education:[{text:"小学"},{text:"初中"},{text:"高中"},{text:"职高"},{text:"专科"},{text:"函授"},{text:"本科"},{text:"硕士研究生"},{text:"博士研究生"}],Entry:"",msg:""}},methods:{info(){this.axios.get("/User/Select_User?user_id="+sessionStorage.getItem("loginUserId")).then(t=>{for(var e in this.msg=t.data.data,this.msg)this.name=this.msg[e].user_name,void 0!=this.msg[e].user_phone&&(this.phone_number=this.msg[e].user_phone),void 0!=this.msg[e].user_section&&(this.department=this.msg[e].user_section),void 0!=this.msg[e].user_duty&&(this.Position=this.msg[e].user_duty),void 0!=this.msg[e].user_IDNumber&&(this.id_card=this.msg[e].user_IDNumber),void 0!=this.msg[e].user_school&&(this.graduation=this.msg[e].user_school),void 0!=this.msg[e].user_education&&(this.Education=this.msg[e].user_education),void 0!=this.msg[e].user_startdate&&(this.Entry=this.msg[e].user_startdate)})},add(){var t=this,e=/^1[0-9]{10}$/,i=/^[\u4E00-\u9FA5]{2,10}$/,a=/^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$|^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}([0-9]|X)$/;if(""==this.name||!i.test(this.name))return mui.toast("姓名不能为空或格式错误"),!1,!1;if(""==this.phone_number||!e.test(this.phone_number))return mui.toast("电话号不能为空或格式错误"),!1,!1;if(""==this.department)return mui.toast("部门不能为空"),!1,!1;if(""==this.Position)return mui.toast("职务不能为空"),!1,!1;if(""==this.id_card||!a.test(this.id_card))return mui.toast("身份证不能为空或身份证格式错误"),!1,!1;if(""==this.graduation)return mui.toast("毕业学校学校不能为空"),!1,!1;if(""==this.Education)return mui.toast("学历不能为空"),!1,!1;if(""==this.Entry)return mui.toast("入职时间不能为空"),!1,!1;var s=new Date(this.Entry),n=s.getFullYear(),r=s.getMonth()+1,o=s.getDate(),u=n+"-"+r+"-"+o;this.imgUrl_loading=!0;var l="?user_id="+sessionStorage.getItem("loginUserId")+"&user_name="+this.name+"&user_IDNumber="+this.id_card+"&user_section="+this.department+"&user_duty="+this.Position+"&user_school="+this.graduation+"&user_education="+this.Education+"&user_startdate="+u+"&user_phone="+this.phone_number;this.axios.post("/User/update_user"+l).then(e=>{200===e.status&&(this.imgUrl_loading=!1,mui.alert("保存成功",function(){t.$router.go(0)}))})}},created(){this.info()}},r=n,o=(i("2761"),i("2877")),u=Object(o["a"])(r,a,s,!1,null,"86227dbe",null);e["default"]=u.exports}}]);