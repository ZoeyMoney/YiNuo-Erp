(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2db4df22"],{"54df":function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"transfer_money"},[e("header",{staticClass:"mui-bar mui-bar-nav"},[e("router-link",{staticClass:"mui-icon mui-icon-left-nav mui-pull-left",attrs:{to:{name:"cash_flow"}}}),e("h1",{staticClass:"mui-title"},[t._v("转账")]),e("router-link",{staticClass:"mui-icon mui-icon mui-icon-home mui-pull-right",attrs:{to:{name:"index"}}})],1),e("login-loading",{directives:[{name:"show",rawName:"v-show",value:t.imgUrl_loading,expression:"imgUrl_loading"}]}),e("div",{staticClass:"mui-content one-img"},[t._m(0),e("div",{staticClass:"mui-img"},[e("div",[t._v("￥"+t._s(t.allTotal))])])]),e("v-touch",{attrs:{"swipe-options":{direction:"horizontal"}},on:{swipeleft:t.onSwipeLeft}},[e("div",{staticClass:"mui-content app"},[e("form",{staticClass:"mui-input-group"},[e("div",{staticClass:"mui-input-row row-label"},[e("label",[t._v("转出")]),e("label",[e("select",{directives:[{name:"model",rawName:"v-model",value:t.bank_out_id,expression:"bank_out_id"}],class:{select:""===t.bank_out_id,selectBlack:""!==t.bank_out_id},attrs:{name:"",id:"enter"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){var a="_value"in t?t._value:t.value;return a});t.bank_out_id=a.target.multiple?e:e[0]}}},[e("option",{attrs:{value:"",selected:"selected"}},[t._v("请选择")]),t._l(t.cead,function(a){return e("option",{domProps:{value:a.bank_id}},[e("div",[t._v(t._s(a.bank_person))]),t._v("   \n              "),e("div",[t._v(t._s(a.bank_bank))])])})],2)])]),e("div",{staticClass:"mui-input-row row-label"},[e("label",[t._v("转入")]),e("label",[e("select",{directives:[{name:"model",rawName:"v-model",value:t.bank_enter_id,expression:"bank_enter_id"}],class:{select:""===t.bank_enter_id,selectBlack:""!==t.bank_enter_id},attrs:{id:"out"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){var a="_value"in t?t._value:t.value;return a});t.bank_enter_id=a.target.multiple?e:e[0]}}},[e("option",{attrs:{value:"",selected:"selected"}},[t._v("请选择")]),t._l(t.cead,function(a){return e("option",{domProps:{value:a.bank_id}},[e("div",[t._v(t._s(a.bank_person))]),t._v("   \n              "),e("div",[t._v(t._s(a.bank_bank))])])})],2)])]),e("data-value",{model:{value:t.dataValue1,callback:function(a){t.dataValue1=a},expression:"dataValue1"}}),e("div",{staticClass:"mui-input-row"},[e("label",[t._v("金额")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.bank_deal_money,expression:"bank_deal_money"}],staticClass:"mui-input-clear",attrs:{type:"text",id:"total",placeholder:"￥"},domProps:{value:t.bank_deal_money},on:{input:function(a){a.target.composing||(t.bank_deal_money=a.target.value)}}})]),e("div",{staticClass:"mui-input-row"},[e("label",[t._v("转账费率")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.bank_deal_rate,expression:"bank_deal_rate"}],class:{select:""===t.bank_deal_rate,selectBlack:""!==t.bank_deal_rate},attrs:{name:"",id:"rate"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){var a="_value"in t?t._value:t.value;return a});t.bank_deal_rate=a.target.multiple?e:e[0]}}},[e("option",{attrs:{value:"",selected:"selected"}},[t._v("请选择")]),t._l(t.listD,function(a){return e("option",{domProps:{value:a.Tnumber}},[t._v(t._s(a.Tnumber)+"%")])})],2)]),e("div",{staticClass:"mui-input-row"},[e("label",[t._v("实际转账")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.addMoneys,expression:"addMoneys"}],staticClass:"mui-input-clear",attrs:{type:"text",id:"transfer",placeholder:"如：6,000"},domProps:{value:t.addMoneys},on:{input:function(a){a.target.composing||(t.addMoneys=a.target.value)}}})])],1),e("div",{staticClass:"mui-input-row form-btn"},[e("button",{staticClass:"mui-btn mui-btn-blue",attrs:{type:"button",id:"btn"},on:{click:t.go}},[t._v("Transfers")])])]),e("div",{staticClass:"mui-content all"},[e("div",{staticClass:"saving"},[t._v("储蓄卡")]),e("div",{staticClass:"all-money"},[t._v("￥"+t._s(t.addMoney))])]),e("table",{staticClass:"all-saving",attrs:{border:"0",cellspacing:"",cellpadding:""}},[e("tr",[e("td",{staticStyle:{width:"21%"}},[t._v("开户行")]),e("td",{staticStyle:{width:"15%"}},[t._v("户主")]),e("td",[t._v("余额")])]),t._l(t.chuxuka,function(a){return e("tr",{on:{click:function(e){return t.msgCu(a.bank_bank,a.bank_person,a.number)}}},[e("td",[t._v(t._s(a.bank_bank))]),e("td",[t._v(t._s(a.bank_person))]),e("td",[t._v("￥"+t._s(a.bank_money))])])})],2),e("div",{staticClass:"mui-content all"},[e("div",{staticClass:"saving"},[t._v("信用卡")]),e("div",{staticClass:"all-money"},[t._v("￥"+t._s(t.xinMoney))])]),e("table",{staticClass:"blaner",attrs:{border:"0",cellspacing:"",cellpadding:""}},[e("tr",[e("td",{staticStyle:{width:"21%"}},[t._v("开户行")]),e("td",{staticStyle:{width:"15%"}},[t._v("户主")]),e("td",[t._v("余额")]),e("td",[t._v("额度")])]),t._l(t.xinyong,function(a){return e("tr",{on:{click:function(e){return t.msgCu(a.bank_bank,a.bank_person,a.number)}}},[e("td",[t._v(t._s(a.bank_bank))]),e("td",[t._v(t._s(a.bank_person))]),e("td",[t._v("￥"+t._s(a.bank_money))]),e("td",[t._v("￥"+t._s(a.bank_limit))])])})],2)])],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"customer"},[e("h2",[t._v("转账")]),e("p",[t._v("/Transfers")])])}],s={name:"transfer_money",data(){return{bank_id:0,dataValue1:new Date,imgUrl_loading:!1,bank_deal_money:"",bank_deal_rate:"",bank_enter_id:"",bank_out_id:"",chuxuka:"",xinyong:"",bank_money:"",addMoney:"",xinMoney:"",allTotal:"",all_money:"",cead:"",bank_limit:"",bank:"",listD:[{Tnumber:.6},{Tnumber:.55},{Tnumber:.38}]}},created(){this.imgUrl_loading=!0,this.axios.get("/fund/select_bank").then(t=>{if(200===t.status){this.imgUrl_loading=!1,this.bank=t.data;var a=[],e=[],n=0,i=0,s=0;for(var l in this.bank)"储蓄卡"===this.bank[l].bank_type?(n+=this.bank[l].bank_money,a.push(this.bank[l])):"信用卡"===this.bank[l].bank_type&&(this.bank[l].bank_money>0&&(i+=this.bank[l].bank_money),e.push(this.bank[l]));this.chuxuka=a,this.xinyong=e,this.addMoney=Math.floor(100*n)/100,this.xinMoney=Math.floor(100*i)/100,s+=this.addMoney+this.xinMoney,this.allTotal=Math.floor(100*s)/100}}),this.axios.get("/fund/select_bank").then(t=>{this.cead=t.data})},computed:{addMoneys:{get:function(){if(""===this.bank_deal_rate||void 0===this.bank_deal_rate){var t=this.bank_deal_money;return t}t=this.bank_deal_money-this.bank_deal_money*this.bank_deal_rate/100;var a=Math.floor(100*t)/100;return this.all_money=a,a},set:function(t){this.all_money=t}}},methods:{msgCu(t,a,e){var n="?&bank_person="+a+"&bank_bank="+t;void 0!==e&&(n+="&bank_number="+e);var i="transfer";this.axios.get("/fund/select_detail"+n).then(t=>{window.transfer=t.data.list_moey,this.$router.push({path:"running_money",query:{transfer:i}})})},onSwipeLeft:function(){this.$router.push({name:"expenditure"})},go(){var t=this,a=/^\d+(\.\d+)?$/;if(""==this.bank_deal_money)return mui.toast("金额不能为空"),!1,!1;if(!a.test(this.bank_deal_money))return mui.toast("金额有非法格式"),!1,!1;if(""==this.bank_enter_id)return mui.toast("转出银行卡不能为空"),!1,!1;if(""==this.bank_out_id)return mui.toast("转入银行卡不能为空"),!1,!1;if(this.bank_enter_id===this.bank_out_id)return mui.toast("转入和转出银行卡不能一致"),!1,!1;var e=new Date(this.dataValue1),n=e.getFullYear(),i=e.getMonth()+1,s=e.getDate(),l=e.getHours(),o=e.getMinutes(),r=e.getSeconds(),_=`${n}-${i}-${s} ${l}:${o}:${r}`;this.imgUrl_loading=!0;var d="";""===this.all_money?d+=this.bank_deal_money:d+=this.all_money;var u="?bank_deal_money="+this.bank_deal_money+"&money="+d+"&bank_enter_id="+this.bank_enter_id+"&bank_out_id="+this.bank_out_id+"&date="+_;this.axios.get("/fund/add_bank_deal"+u).then(a=>{200===a.status?(this.imgUrl_loading=!1,mui.alert("转账成功",function(){t.$router.go(0)})):alert("转账失败")})}}},l=s,o=(e("95e0"),e("2877")),r=Object(o["a"])(l,n,i,!1,null,"5447f59a",null);a["default"]=r.exports},"744e":function(t,a,e){},"95e0":function(t,a,e){"use strict";var n=e("744e"),i=e.n(n);i.a}}]);