(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2ab5bf40"],{"454f":function(t,e,n){n("46a7");var a=n("584a").Object;t.exports=function(t,e,n){return a.defineProperty(t,e,n)}},"46a7":function(t,e,n){var a=n("63b6");a(a.S+a.F*!n("8e60"),"Object",{defineProperty:n("d9f6").f})},6432:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"expenditure"},[n("header",{staticClass:"mui-bar mui-bar-nav"},[n("router-link",{staticClass:"mui-icon mui-icon-left-nav mui-pull-left",attrs:{to:{name:"cash_flow"}}}),n("h1",{staticClass:"mui-title"},[t._v("支出")]),n("router-link",{staticClass:"mui-icon mui-icon mui-icon-home mui-pull-right",attrs:{to:{name:"index"}}})],1),t._m(0),n("div",{staticClass:"mui-content app"},[n("form",{staticClass:"mui-input-group"},[n("div",{staticClass:"mui-input-row"},[n("label",[t._v("类别选择")]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.fund_detail_id,expression:"fund_detail_id"}],attrs:{name:""},on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.fund_detail_id=e.target.multiple?n:n[0]},function(e){return t.fund_deId(t.fund_detail_id)}]}},[n("option",{attrs:{value:""}},[t._v("请选择")]),t._l(t.list_fund_name_type,function(e){return n("option",{domProps:{value:e.fund_name_type}},[t._v(t._s(e.fund_name_type))])})],2)]),n("div",{staticClass:"mui-input-row"},[n("label",[t._v("款项名称")]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.detailed,expression:"detailed"}],attrs:{name:""},on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.detailed=e.target.multiple?n:n[0]},function(e){return t.list_fund_nameas(t.detailed)}]}},[n("option",{attrs:{value:"",selected:"selected"}},[t._v("请选择")]),t._l(t.list_fund_names,function(e){return t.cotrProjet?n("option",{domProps:{value:e.fund_names}},[t._v(t._s(e.fund_names))]):t._e()}),t._l(t.list_fund_names,function(e){return t.idProjet?n("option",{domProps:{value:e.fund_name_id}},[t._v(t._s(e.fund_names))]):t._e()})],2)]),t.category?n("div",{staticClass:"mui-input-row"},[n("label",[t._v("款项详细")]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.slim,expression:"slim"}],attrs:{name:""},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.slim=e.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"",selected:"selected"}},[t._v("请选择")]),t._l(t.list_fund_name,function(e){return n("option",{domProps:{value:e.fund_name_id}},[t._v(t._s(e.fund_name))])})],2)]):t._e(),t.relevant_people?n("div",{staticClass:"mui-input-row relevant_people"},[n("label",[t._v("相关人")]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.listRelevant,expression:"listRelevant"}],attrs:{name:""},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.listRelevant=e.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"",selected:"selected"}},[t._v("请选择")]),t._l(t.list_bank_card_person,function(e){return n("option",{domProps:{value:e.text}},[t._v(t._s(e.text))])})],2)]):t._e(),t.site_projet?n("div",{staticClass:"mui-input-row site_projet"},[n("label",[t._v("工地名称")]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.site,expression:"site"}],attrs:{name:""},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.site=e.target.multiple?n:n[0]}}},[n("option",{attrs:{value:""}},[t._v("请选择")]),t._l(t.listProjet,function(e){return n("option",{domProps:{value:e.customer_id}},[t._v(t._s(e.customer_name))])})],2)]):t._e(),n("div",{staticClass:"mui-input-row"},[n("label",[t._v("金额")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.bank_money,expression:"bank_money"}],staticClass:"mui-input-clear",attrs:{type:"text",placeholder:"请输入金额"},domProps:{value:t.bank_money},on:{input:function(e){e.target.composing||(t.bank_money=e.target.value)}}})]),n("div",{staticClass:"mui-input-row"},[n("label",[t._v("手续费")]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.money_rate,expression:"money_rate"}],attrs:{name:""},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.money_rate=e.target.multiple?n:n[0]}}},[n("option",{attrs:{value:""}},[t._v("请选择")]),t._l(t.list_money_rate,function(e){return n("option",{domProps:{value:e.text}},[t._v(t._s(e.text)+"%")])})],2)]),n("div",{staticClass:"mui-input-row"},[n("label",[t._v("实际支出")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.money_actual,expression:"money_actual"}],staticClass:"mui-input-clear",attrs:{type:"text",placeholder:"请输入金额"},domProps:{value:t.money_actual},on:{input:function(e){e.target.composing||(t.money_actual=e.target.value)}}})]),n("div",{staticClass:"mui-input-row"},[n("label",[t._v("备注")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.clearBei,expression:"clearBei"}],staticClass:"mui-input-clear",attrs:{type:"text",placeholder:"请输入备注"},domProps:{value:t.clearBei},on:{input:function(e){e.target.composing||(t.clearBei=e.target.value)}}})]),n("div",{staticClass:"mui-input-row row-label"},[n("label",[t._v("转出账户")]),n("label",{staticStyle:{padding:"0",width:"70%"}},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.bank_id,expression:"bank_id"}],attrs:{name:"",id:"card"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.bank_id=e.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"0",selected:"selected"}},[t._v("请选择")]),t._l(t.bank_card,function(e){return n("option",{domProps:{value:e.bank_id}},[n("div",[t._v(t._s(e.bank_bank))]),n("div",[t._v(t._s(e.bank_person))]),n("div",[t._v("￥"+t._s(e.bank_money))])])})],2)])])]),n("div",{staticClass:"mui-input-row mui-checkbox mui-left checkbox"},[n("label",[t._v("转为应收")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.checkbox,expression:"checkbox"}],attrs:{name:"checkbox1",value:"转为应收",type:"checkbox"},domProps:{checked:Array.isArray(t.checkbox)?t._i(t.checkbox,"转为应收")>-1:t.checkbox},on:{change:function(e){var n=t.checkbox,a=e.target,i=!!a.checked;if(Array.isArray(n)){var s="转为应收",r=t._i(n,s);a.checked?r<0&&(t.checkbox=n.concat([s])):r>-1&&(t.checkbox=n.slice(0,r).concat(n.slice(r+1)))}else t.checkbox=i}}})]),n("div",{staticClass:"mui-input-row form-btn"},[n("button",{staticClass:"mui-btn mui-btn-blue",attrs:{type:"button"},on:{click:t.add}},[t._v("Transfers")])]),n("div",{staticClass:"mui-content all"},[n("div",{staticClass:"saving"},[t._v("储蓄卡")]),n("div",{staticClass:"all-money"},[t._v("￥"+t._s(t.chuXuKa))])]),n("table",{staticClass:"all-saving",attrs:{border:"0",cellspacing:"",cellpadding:""}},[t._m(1),t._l(t.chuXu,function(e){return n("tr",[n("td",[t._v(t._s(e.bank_bank))]),n("td",[t._v(t._s(e.bank_person))]),n("td",[t._v(t._s(e.bank_number))]),n("td",[t._v("￥"+t._s(e.bank_money))])])})],2),n("div",{staticClass:"mui-content all"},[n("div",{staticClass:"saving"},[t._v("信用")]),n("div",{staticClass:"all-money"},[t._v("￥"+t._s(t.XinYongKa))])]),n("table",{staticClass:"blaner",attrs:{border:"0",cellspacing:"",cellpadding:""}},[t._m(2),t._l(t.xinY,function(e){return n("tr",[n("td",[t._v(t._s(e.bank_bank))]),n("td",[t._v(t._s(e.bank_person))]),n("td",[t._v(t._s(e.bank_number))]),n("td",[t._v("￥"+t._s(e.bank_money))]),n("td",[t._v("￥"+t._s(e.bank_limit))])])})],2)])])},i=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mui-content"},[n("div",{staticClass:"customer"},[n("h2",[t._v("支出")]),n("p",[t._v("/Expense")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",[n("td",{staticStyle:{width:"22%"}},[t._v("开户行")]),n("td",{staticStyle:{width:"15%"}},[t._v("户主")]),n("td",{staticStyle:{width:"15%"}},[t._v("尾号")]),n("td",[t._v("余额")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",[n("td",{staticStyle:{width:"21%"}},[t._v("开户行")]),n("td",{staticStyle:{width:"15%"}},[t._v("户主")]),n("td",{staticStyle:{width:"15%"}},[t._v("尾号")]),n("td",[t._v("余额")]),n("td",[t._v("额度")])])}],s=n("bd86"),r={name:"expenditure",data:function(){var t;return t={category:!0,cotrProjet:!1,idProjet:!0,relevant_people:!0,site_projet:!0,bank_id:0,list_fund_name_type:[],detailed:"",list_fund_names:[],slim:"",list_fund_name:[],listRelevant:"",site:"",bank_money:"",money_rate:"",list_money_rate:[{text:.6},{text:.55},{text:.38}],money_get:"",account:"",clearBei:"",checkbox:"",fund_detail_id:"",bank_card:"",chuXu:"",xinY:"",chuXuKa:"",XinYongKa:"",fund_name_id:"",listProjet:""},Object(s["a"])(t,"list_fund_name_type",""),Object(s["a"])(t,"list_fund_names",""),Object(s["a"])(t,"list_fund_name",""),Object(s["a"])(t,"list_bank_card_person",[{text:"胡永生"},{text:"邱梅"}]),t},created:function(){var t=this;this.axios.get("https://formattingclub.com/YiNuoLogin/Customer/SelectStageCustomer").then(function(e){t.listProjet=e.data}),this.axios.get("https://formattingclub.com/YiNuoLogin/fund/Select_three_fund_name?fund_type=1&fund_stale=0").then(function(e){t.list_fund_name_type=e.data.fund_name_type},function(e){var n=t;mui.alert("您无权访问",function(){n.$router.push({name:"index"})})}),this.axios.get("https://formattingclub.com/YiNuoLogin/fund/select_bank").then(function(e){t.bank_card=e.data;var n=[],a=[],i=0,s=0;for(var r in e.data)if("储蓄卡"===e.data[r].bank_type){var o=e.data[r].bank_number.slice(15,19);i+=e.data[r].bank_money,e.data[r].bank_number=o,n.push(e.data[r])}else if("信用卡"===e.data[r].bank_type){o=e.data[r].bank_number.slice(12,16);s+=e.data[r].bank_money,e.data[r].bank_number=o,a.push(e.data[r])}t.chuXu=n,t.xinY=a,t.chuXuKa=i,t.XinYongKa=s},function(e){var n=t;mui.alert("您无权访问",function(){n.$router.push({name:"index"})})})},computed:{money_actual:{get:function(){var t=this.bank_money-this.bank_money*this.money_rate/100,e=Math.floor(100*t)/100;return this.money_get=e,e},set:function(t){this.money_get=t}}},methods:{fund_deId:function(t){var e=this;this.fund_nameso=t,this.axios.get("https://formattingclub.com/YiNuoLogin/fund/Select_three_fund_name?fund_type=1&fund_stale=0&fund_name_type="+this.fund_nameso).then(function(t){e.list_fund_name_type=t.data.fund_name_type,e.list_fund_names=t.data.fund_names,e.list_fund_name=t.data.fund_name,"个人"===e.fund_detail_id?(e.category=!1,e.site_projet=!1,e.relevant_people=!0):"公司"===e.fund_detail_id&&(e.category=!0,e.cotrProjet=!0,e.idProjet=!1,e.relevant_people=!1,e.site_projet=!0)},function(t){var n=e;mui.alert("您无权访问",function(){n.$router.push({name:"index"})})})},list_fund_nameas:function(t){var e=this;this.fund_name_id=t,this.axios.get("https://formattingclub.com/YiNuoLogin/fund/Select_three_fund_name?fund_type=1&fund_stale=0&fund_name_type="+this.fund_nameso+"&fund_names="+t).then(function(t){e.list_fund_name_type=t.data.fund_name_type,e.list_fund_names=t.data.fund_names,e.list_fund_name=t.data.fund_name,"现金周转"===e.detailed?(e.site_projet=!1,e.relevant_people=!0):"工程"===e.detailed&&(e.site_projet=!0,e.relevant_people=!1)},function(t){var n=e;mui.alert("您无权访问",function(){n.$router.push({name:"index"})})})},add:function(){var t=this,e=this,n=/^[0-9]*$/,a="?";if(""==this.fund_detail_id)return mui.toast("类别名称不能为空"),!1,!1;if("个人"===this.fund_detail_id?a+="fund_name="+this.detailed+"&fund_debtor="+this.listRelevant:"公司"===this.fund_detail_id&&(a+="fund_name="+this.slim+"&customer_id="+this.site),""==this.bank_money)return mui.toast("金额不能为空"),!1,!1;if(!n.test(this.bank_money))return mui.toast("金额格式错误"),!1,!1;if(""==this.bank_deal_rate)return mui.toast("转账费率不能为空"),!1,!1;if(""==this.bank_id)return mui.toast("转出不能为空"),!1,!1;for(var i in this.cead)if(parseInt(this.cead[i].bank_id)===this.bank_out_id&&parseInt(this.cead[i].bank_money)<parseInt(this.bank_deal_money))return mui.toast("卡内余额不能大于交易余额"),!1,!1;a+="&money="+parseInt(1+~this.bank_money)+"&fund_text="+this.clearBei+"&bank_id="+this.bank_id+"&shiji_money="+parseInt(1+~this.money_get),!0===this.checkbox?this.axios.post("https://formattingclub.com/YiNuoLogin/fund/Add_out_enter"+a).then(function(n){var a="";for(var i in t.listProjet)t.listProjet[i].customer_id===t.site&&(a=t.listProjet[i].customer_name);mui.alert(n.data.data,function(){e.$router.push({name:"expenditure_receive",query:{site:a,listRelevant:e.listRelevant,money:e.bank_money,bank_id:e.bank_id,clearBei:e.clearBei}})})}):this.axios.post("https://formattingclub.com/YiNuoLogin/fund/Add_out_enter"+a).then(function(t){"录入成功"===t.data.data&&mui.alert("录入成功",function(){e.$router.go(0)})})}}},o=r,u=(n("ee6e"),n("2877")),l=Object(u["a"])(o,a,i,!1,null,"926b7e7c",null);e["default"]=l.exports},"85f2":function(t,e,n){t.exports=n("454f")},a024:function(t,e,n){},bd86:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var a=n("85f2"),i=n.n(a);function s(t,e,n){return e in t?i()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},ee6e:function(t,e,n){"use strict";var a=n("a024"),i=n.n(a);i.a}}]);
//# sourceMappingURL=chunk-2ab5bf40.965e75f3.js.map